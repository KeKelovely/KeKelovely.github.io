{"version":3,"sources":["webpack:///./src/components/index.js","webpack:///src/components/danMaku.vue","webpack:///./src/components/danMaku.vue?269d","webpack:///./src/components/danMaku.vue","webpack:///src/App.vue","webpack:///./src/App.vue?c4b3","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["components","innerText","options","msg","text","danMakuColor","danMakuTop","danMakuLeft","danMakuOffset","document","getElementById","d","x","getContext","r","getBoundingClientRect","w","right","left","h","bottom","top","i","length","push","Math","ceil","random","toString","topValue","speedValue","drawText","fillStyle","fillText","window","requestAnimationFrame","anime","clearRect","font","textFont","size","measureText","width","danMaku","name","mounted","this","danMakuSetting","props","type","String","Number","default","height","Array","Object","computed","danMakuStyle","components_danMaku","render","_h","$createElement","_c","_self","staticClass","style","attrs","id","staticRenderFns","App","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.1d43335199c17f61d42a.js","sourcesContent":["var createDanMaku = function (innerText, options) {\r\n  // set the basic params: text, color, top, offset, left\r\n  var msg = {\r\n    text: innerText,\r\n    danMakuColor: [],\r\n    danMakuTop: [],\r\n    danMakuLeft: [],\r\n    danMakuOffset: []\r\n  }\r\n  // set Top(distance from the canvas Element) params\r\n  var getTop = function () {\r\n    return Math.random() * options.topValue + 20\r\n  }\r\n  // set random Color\r\n  var getColor = function () {\r\n    return '#' + Math.ceil(Math.random() * 0xffffff).toString(16)\r\n  }\r\n  // set Speed , and the Orginal SpeedValue is 1 (for making it fast enough)\r\n  var getSpeed = function () {\r\n    return Math.random() * options.speedValue + 1\r\n  }\r\n  // if the canvas element does exists\r\n  if (document.getElementById('danmaku')) {\r\n    var d = document.getElementById('danmaku')\r\n    var x = d.getContext('2d')\r\n    var r = d.getBoundingClientRect()\r\n    var w = r.right - r.left\r\n    var h = r.bottom - r.top\r\n    var left = w\r\n    // set the params\r\n    // left is the original position where the danMaku Start, default value is the width of element Canvas\r\n    // if u want to make it show earlier, you can decrease the value of left\r\n    for (let i = 0; i < msg.text.length; i++) {\r\n      msg.danMakuColor.push(getColor())\r\n      msg.danMakuTop.push(getTop())\r\n      msg.danMakuOffset.push(getSpeed())\r\n      msg.danMakuLeft.push(left)\r\n    }\r\n    // draw danMaku\r\n    var drawText = function (msg, i) {\r\n      msg.danMakuLeft[i] -= msg.danMakuOffset[i]\r\n      x.fillStyle = msg.danMakuColor[i]\r\n      x.fillText(msg.text[i], msg.danMakuLeft[i], msg.danMakuTop[i])\r\n    }\r\n    // u can also use setInterval to make this animation\r\n    // but It seems that window.requestAnimationFrame is a better way!\r\n    var anime = function () {\r\n      x.clearRect(0, 0, w, h)\r\n      // this is the Font Setting\r\n      x.font = options.textFont.size + ' ' + options.textFont.font\r\n      for (let i = 0; i < msg.text.length; i++) {\r\n        if (msg.danMakuLeft[i] < -1 * x.measureText(msg.text[i]).width) {\r\n          msg.danMakuLeft[i] = w\r\n        }\r\n        drawText(msg, i)\r\n      }\r\n      window.requestAnimationFrame(anime)\r\n    }\r\n    window.requestAnimationFrame(anime)\r\n  }\r\n}\r\n\r\nexport default createDanMaku\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.js","<template>\n  <div class=\"danMaku\">\n    <canvas id=\"danmaku\" :style='danMakuStyle'>\n    </canvas>\n  </div>\n</template>\n\n<script>\nimport createDanMaku from './index.js'\nexport default {\n  name: 'danMaku',\n  mounted () {\n    createDanMaku(this.innerText, this.danMakuSetting)\n  },\n  props: {\n    width: {\n      type: [String, Number],\n      default: '600px'\n    },\n    height: {\n      type: [String, Number],\n      default: '300px'\n    },\n    innerText: {\n      type: Array,\n      default: () => {\n        return ['嘤嘤嘤', '前方高能预警', '许愿清泉流响', '注意弹幕礼仪哦！']\n      }\n    },\n    danMakuSetting: {\n      type: Object,\n      default: () => {\n        return {\n          topValue: 100,\n          speedValue: 0.3,\n          textFont: {\n            size: '20px',\n            font: 'Arial'\n          }\n        }\n      }\n    }\n  },\n  computed: {\n    danMakuStyle () {\n      return {\n        width: this.width + 'px',\n        height: this.height + 'px'\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#danmaku {\n  width: 600px;\n  height: 300px;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  top: 0;\n  z-index: -99;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/danMaku.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"danMaku\"},[_c('canvas',{style:(_vm.danMakuStyle),attrs:{\"id\":\"danmaku\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-465187a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/danMaku.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-465187a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./danMaku.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./danMaku.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./danMaku.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-465187a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./danMaku.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-465187a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/danMaku.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <danMaku\n    :width=\"600\"\n    :height=\"300\"\n    :innerText=\"['LOL', 'haha', 'gitHub', 'This is KeKe']\"\n    :danMakuSetting=\"{\n      topValue: 100,\n      speedValue: 0.3,\n      textFont: {\n        size: '20px',\n        font: 'Arial'\n      }\n    }\"\n    >\n    </danMaku>\n  </div>\n</template>\n\n<script>\nimport danMaku from './components/danMaku'\n\nexport default {\n  name: 'App',\n  components: {\n    danMaku\n  }\n}\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('danMaku',{attrs:{\"width\":600,\"height\":300,\"innerText\":['LOL', 'haha', 'gitHub', 'This is KeKe'],\"danMakuSetting\":{\n    topValue: 100,\n    speedValue: 0.3,\n    textFont: {\n      size: '20px',\n      font: 'Arial'\n    }\n  }}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24179d01\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24179d01\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24179d01\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}